<section class="container">
  <h1 class="title">API</h1>
  <p class="prg">The following table emulates the main <b>CRUD</b> operations over a <b>REST API</b>, using an
    <b>In-Memory
      Web
      Api for Angular</b>. It allow us to simulate data persistence operations without a real backend server, using
    <b>Angular's HTTP Client</b> to perform HTTP requests.
  </p>
  <p class="prg">
    You can add a new course, edit or delete, and then see the updated list.
  </p>
</section>

<main class="container">
  <h3 class="title">Courses Table</h3>
  <table mat-table [dataSource]="courses" class="mat-elevation-z6">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>Id</th>
      <td mat-cell *matCellDef="let course">{{ course.id }}</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let course">{{ course.name }}</td>
    </ng-container>

    <ng-container matColumnDef="duration">
      <th mat-header-cell *matHeaderCellDef>Duration (hours)</th>
      <td mat-cell *matCellDef="let course">{{ course.duration }}</td>
    </ng-container>

    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef>Rating</th>
      <td mat-cell *matCellDef="let course"><star-rating [rating]="course.rating" [readOnly]="true"></star-rating></td>
    </ng-container>

    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef>
      </th>
      <td mat-cell *matCellDef="let course">
        <button mat-icon-button [routerLink]="['/courses', course.id, 'edit']" matTooltip="Edit"
          matTooltipPosition="after">
          <mat-icon class="material-symbols-outlined" color="accent">edit</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="remove">
      <th mat-header-cell *matHeaderCellDef>
        <button class="add" mat-mini-fab (click)="openDialog()" matTooltip="Add new course" matTooltipPosition="after">
          <mat-icon class="material-symbols-outlined">add</mat-icon>
        </button>
      </th>
      <td mat-cell *matCellDef="let course">
        <button mat-icon-button type="button" (click)="deleteData(course)" matTooltip="Delete"
          matTooltipPosition="after">
          <mat-icon class="material-symbols-outlined" color="warn">delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</main>

<section class="container">
  <h2 class="title center">Main Features</h2>
  <mat-divider></mat-divider>
  <h3 class="subtitle margin1">Route Resolvers</h3>
  <p class="prg">Were applied in some routes so that the view can only be displayed after the data from HTTP requests
    have been
    gathered. That can improve the user experience, since the view will not appear with empty values and suddenly
    refresh and fill up.</p>
  <h3 class="subtitle">In-Memory Data</h3>
  <p class="prg">Allow us to simulate data persistence operations for testing purpose, including auto-generating id's.
    It's a better
    option than hard-coding the data.</p>
  <h3 class="subtitle">Component Communication</h3>
  <p class="prg">Table, Dialog and Edit component are all integrated and communicating with each other, so the data can
    flow among
    them with consistency, allowing any changes to be shared.
  </p>
  <h3 class="subtitle">Angular Material</h3>
  <p class="prg">The table, the dialog and the forms were build using Angular Material components.</p>

</section>