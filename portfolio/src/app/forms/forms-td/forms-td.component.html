<main class="container">
  <h2 class="title">TD Form</h2>
  <form class="form" #frm="ngForm" (ngSubmit)="onSubmit(frm)" frmConfirmPassword>
    <mat-form-field class="field">
      <mat-label>Name</mat-label>
      <input #name="ngModel" type="text" name="name" [(ngModel)]="user.name" matInput required
        pattern="[a-zA-Z ]*" /><!--OBS: Regex for all letters + spaces-->
      <mat-error *ngIf="name.errors?.['required']">Name is required</mat-error>
      <mat-error *ngIf="name.errors?.['pattern']">Name must contain only letters</mat-error>
    </mat-form-field>

    <mat-form-field class="field"><mat-label>Email</mat-label>
      <input #email="ngModel" type="email" name="email" [(ngModel)]="user.email" matInput required email
        placeholder="name@domain.com" />
      <mat-error *ngIf="email.errors?.['required']">Email is required</mat-error>
      <mat-error *ngIf="email.errors?.['email']">
        Email must be valid</mat-error>
    </mat-form-field>

    <mat-form-field class="field"><mat-label>Phone number</mat-label>
      <input #phone="ngModel" type="tel" name="phone" [(ngModel)]="user.phone" matInput
        pattern="[0-9]{1,3} [0-9]{1,3} [0-9]{7,10}"
        placeholder="1 555 5555555" /><!--OBS: Regex for Only Numbers(qtd 1-3) with no space + 1 space + ...-->
      <mat-error *ngIf="phone.errors?.['pattern'] ">Phone must follow the pattern</mat-error>
    </mat-form-field>

    <mat-form-field class="field"><mat-label>Address</mat-label>
      <input #address="ngModel" type="text" name="address" [(ngModel)]="user.address" matInput />
    </mat-form-field>

    <mat-form-field class="field"><mat-label>Password</mat-label>
      <input #password="ngModel" type="password" name="password" [(ngModel)]="user.password" matInput required
        minlength="4" maxlength="6" placeholder="Between 4 and 6 characteres" />
      <mat-error *ngIf="password.errors?.['required']">Password is required</mat-error>
      <mat-error *ngIf="password.errors?.['minlength']">
        Password must have at least 4 characteres</mat-error>
    </mat-form-field>

    <mat-form-field class="field"><mat-label>Confirm Password</mat-label>
      <input #confirmPassword="ngModel" type="password" name="confirmPassword" [(ngModel)]="user.confirmPassword"
        matInput required />
      <mat-error *ngIf="confirmPassword.errors?.['required']">This field is required</mat-error>
    </mat-form-field>
    <mat-error *ngIf="frm.errors?.['passwordCompare']" class="notMatch">
      Passwords do not match</mat-error>

    <mat-checkbox class="checkbox" #agreement="ngModel" name="agreement" [(ngModel)]="user.agreement" required>I agree
      with the
      terms</mat-checkbox>

    <div class="submit">
      <button type="submit" mat-raised-button color="primary" [disabled]="!frm.form.valid">
        Sign Up
      </button>
      <span *ngIf="submitted" class="submitted">Submitted</span>
    </div>
  </form>
</main>